# 🎌 俳句生成マルチエージェントシステム

## 完全初期化（クリーンスタート）

全ての変数をクリアしてください
agents/フォルダ内のファイルをすべて削除してください
TODOリストをすべてクリアしてください

## システム設定

{{agent_count}}を5に設定してください。

「=== 俳句生成マルチエージェントシステム開始 ===」と表示してください。

## テーマ生成

{{agent_count}}個の創造的で奇妙な俳句テーマを生成してください。季節や自然要素ではなく、独特で興味深い概念に焦点を当ててください。

各テーマは以下の形式で出力してください：
1. [テーマ1]
2. [テーマ2]
（{{agent_count}}個まで続く）

テーマのみを出力し、追加の説明は不要です。

## テーマ配布

生成したテーマを各エージェントに配布してください：

具体例：
- 1番目のテーマを{{agent_1_theme}}に保存してください
- 2番目のテーマを{{agent_2_theme}}に保存してください

一般化：3番目以降は{{agent_N_theme}}形式（Nは番号3,4,5...）で{{agent_count}}個まで続けてください

全テーマを{{themes}}に保存してください。

## マルチエージェント俳句生成

**⚠️ 重要な注意事項**: agent.mdファイルは読み取り専用です。内容を読み込むことはできますが、絶対に書き換えたり上書きしてはいけません。必ずagents/フォルダ内の新しいファイルに保存してください。

**Task toolを利用して{{agent_count}}個のエージェントプロセスを並列起動してください：**

以下のパターンで{{agent_count}}個のTaskを並列実行してください：

具体例：
### Task 1: エージェント1実行
1. agent.mdの内容を読み取り専用で読み込み、すべての<<ID>>を"1"に置換してagents/agent_1.mdに保存してください
2. 次に以下のコマンドを実行してください：
   cat agents/agent_1.md | claude -p --dangerously-skip-permissions 

### Task 2: エージェント2実行
1. agent.mdの内容を読み取り専用で読み込み、すべての<<ID>>を"2"に置換してagents/agent_2.mdに保存してください
2. 次に以下のコマンドを実行してください：
   cat agents/agent_2.md | claude -p --dangerously-skip-permissions 

一般化：Task 3以降も同様のパターンで<<ID>>を対応する数字に置換し、{{agent_count}}個まで並列実行してください。

「{{agent_count}}個のエージェントプロセスが並列完了しました。」と表示してください。

## 俳句評価・選択

収集された俳句を評価し、最も奇妙で印象的な俳句を選択してください：

**生成されたテーマ**: {{themes}}

**俳句候補**:
以下のパターンで{{agent_count}}個の俳句を評価してください：

具体例：
1. {{agent_1_haiku}}
2. {{agent_2_haiku}}

一般化：3番目以降は{{agent_N_haiku}}形式（Nは番号3,4,5...）で{{agent_count}}個まで続けてください。

評価基準：
- 独創性と奇妙さ
- 詩的表現の美しさ
- インパクトの強さ

空の結果は評価対象から除外してください。

最も優秀な俳句を選択し、以下の形式で評価結果を表示してください：
**最優秀俳句**: [選択した俳句をそのまま記載]
**選択**: 俳句[番号]
**理由**: [1-2文での具体的な理由]

この評価結果（最優秀俳句、選択、理由の3項目すべて）を{{best_selection}}に保存してください。

「=== 俳句生成マルチエージェントシステム完了 ===」と表示してください。